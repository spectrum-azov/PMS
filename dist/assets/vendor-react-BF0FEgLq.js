function In(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function An(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kt={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pr;function Hn(){if(pr)return H;pr=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function w(f){return f===null||typeof f!="object"?null:(f=h&&f[h]||f["@@iterator"],typeof f=="function"?f:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,P={};function S(f,R,U){this.props=f,this.context=R,this.refs=P,this.updater=U||v}S.prototype.isReactComponent={},S.prototype.setState=function(f,R){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,R,"setState")},S.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function D(){}D.prototype=S.prototype;function C(f,R,U){this.props=f,this.context=R,this.refs=P,this.updater=U||v}var F=C.prototype=new D;F.constructor=C,x(F,S.prototype),F.isPureReactComponent=!0;var Q=Array.isArray,V=Object.prototype.hasOwnProperty,Z={current:null},g={key:!0,ref:!0,__self:!0,__source:!0};function k(f,R,U){var B,j={},G=null,ae=null;if(R!=null)for(B in R.ref!==void 0&&(ae=R.ref),R.key!==void 0&&(G=""+R.key),R)V.call(R,B)&&!g.hasOwnProperty(B)&&(j[B]=R[B]);var ee=arguments.length-2;if(ee===1)j.children=U;else if(1<ee){for(var oe=Array(ee),we=0;we<ee;we++)oe[we]=arguments[we+2];j.children=oe}if(f&&f.defaultProps)for(B in ee=f.defaultProps,ee)j[B]===void 0&&(j[B]=ee[B]);return{$$typeof:e,type:f,key:G,ref:ae,props:j,_owner:Z.current}}function I(f,R){return{$$typeof:e,type:f.type,key:R,ref:f.ref,props:f.props,_owner:f._owner}}function J(f){return typeof f=="object"&&f!==null&&f.$$typeof===e}function re(f){var R={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(U){return R[U]})}var ue=/\/+/g;function ve(f,R){return typeof f=="object"&&f!==null&&f.key!=null?re(""+f.key):R.toString(36)}function ne(f,R,U,B,j){var G=typeof f;(G==="undefined"||G==="boolean")&&(f=null);var ae=!1;if(f===null)ae=!0;else switch(G){case"string":case"number":ae=!0;break;case"object":switch(f.$$typeof){case e:case t:ae=!0}}if(ae)return ae=f,j=j(ae),f=B===""?"."+ve(ae,0):B,Q(j)?(U="",f!=null&&(U=f.replace(ue,"$&/")+"/"),ne(j,R,U,"",function(we){return we})):j!=null&&(J(j)&&(j=I(j,U+(!j.key||ae&&ae.key===j.key?"":(""+j.key).replace(ue,"$&/")+"/")+f)),R.push(j)),1;if(ae=0,B=B===""?".":B+":",Q(f))for(var ee=0;ee<f.length;ee++){G=f[ee];var oe=B+ve(G,ee);ae+=ne(G,R,U,oe,j)}else if(oe=w(f),typeof oe=="function")for(f=oe.call(f),ee=0;!(G=f.next()).done;)G=G.value,oe=B+ve(G,ee++),ae+=ne(G,R,U,oe,j);else if(G==="object")throw R=String(f),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return ae}function ce(f,R,U){if(f==null)return f;var B=[],j=0;return ne(f,B,"","",function(G){return R.call(U,G,j++)}),B}function X(f){if(f._status===-1){var R=f._result;R=R(),R.then(function(U){(f._status===0||f._status===-1)&&(f._status=1,f._result=U)},function(U){(f._status===0||f._status===-1)&&(f._status=2,f._result=U)}),f._status===-1&&(f._status=0,f._result=R)}if(f._status===1)return f._result.default;throw f._result}var W={current:null},q={transition:null},fe={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:q,ReactCurrentOwner:Z};function ie(){throw Error("act(...) is not supported in production builds of React.")}return H.Children={map:ce,forEach:function(f,R,U){ce(f,function(){R.apply(this,arguments)},U)},count:function(f){var R=0;return ce(f,function(){R++}),R},toArray:function(f){return ce(f,function(R){return R})||[]},only:function(f){if(!J(f))throw Error("React.Children.only expected to receive a single React element child.");return f}},H.Component=S,H.Fragment=r,H.Profiler=a,H.PureComponent=C,H.StrictMode=n,H.Suspense=s,H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,H.act=ie,H.cloneElement=function(f,R,U){if(f==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+f+".");var B=x({},f.props),j=f.key,G=f.ref,ae=f._owner;if(R!=null){if(R.ref!==void 0&&(G=R.ref,ae=Z.current),R.key!==void 0&&(j=""+R.key),f.type&&f.type.defaultProps)var ee=f.type.defaultProps;for(oe in R)V.call(R,oe)&&!g.hasOwnProperty(oe)&&(B[oe]=R[oe]===void 0&&ee!==void 0?ee[oe]:R[oe])}var oe=arguments.length-2;if(oe===1)B.children=U;else if(1<oe){ee=Array(oe);for(var we=0;we<oe;we++)ee[we]=arguments[we+2];B.children=ee}return{$$typeof:e,type:f.type,key:j,ref:G,props:B,_owner:ae}},H.createContext=function(f){return f={$$typeof:i,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},f.Provider={$$typeof:o,_context:f},f.Consumer=f},H.createElement=k,H.createFactory=function(f){var R=k.bind(null,f);return R.type=f,R},H.createRef=function(){return{current:null}},H.forwardRef=function(f){return{$$typeof:l,render:f}},H.isValidElement=J,H.lazy=function(f){return{$$typeof:m,_payload:{_status:-1,_result:f},_init:X}},H.memo=function(f,R){return{$$typeof:c,type:f,compare:R===void 0?null:R}},H.startTransition=function(f){var R=q.transition;q.transition={};try{f()}finally{q.transition=R}},H.unstable_act=ie,H.useCallback=function(f,R){return W.current.useCallback(f,R)},H.useContext=function(f){return W.current.useContext(f)},H.useDebugValue=function(){},H.useDeferredValue=function(f){return W.current.useDeferredValue(f)},H.useEffect=function(f,R){return W.current.useEffect(f,R)},H.useId=function(){return W.current.useId()},H.useImperativeHandle=function(f,R,U){return W.current.useImperativeHandle(f,R,U)},H.useInsertionEffect=function(f,R){return W.current.useInsertionEffect(f,R)},H.useLayoutEffect=function(f,R){return W.current.useLayoutEffect(f,R)},H.useMemo=function(f,R){return W.current.useMemo(f,R)},H.useReducer=function(f,R,U){return W.current.useReducer(f,R,U)},H.useRef=function(f){return W.current.useRef(f)},H.useState=function(f){return W.current.useState(f)},H.useSyncExternalStore=function(f,R,U){return W.current.useSyncExternalStore(f,R,U)},H.useTransition=function(){return W.current.useTransition()},H.version="18.3.1",H}var yr;function Bn(){return yr||(yr=1,kt.exports=Hn()),kt.exports}var y=Bn();const Wn=An(y),Vn=In({__proto__:null,default:Wn},[y]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vr=e=>{throw TypeError(e)},Kn=(e,t,r)=>t.has(e)||Vr("Cannot "+r),jt=(e,t,r)=>(Kn(e,t,"read from private field"),r?r.call(e):t.get(e)),Yn=(e,t,r)=>t.has(e)?Vr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),vr="popstate";function Jn(e={}){function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return lt("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Me(a)}return Gn(t,r,null,e)}function A(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function se(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qn(){return Math.random().toString(36).substring(2,10)}function gr(e,t){return{usr:e.state,key:e.key,idx:t}}function lt(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ue(t):t,state:r,key:t&&t.key||n||qn()}}function Me({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ue(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Gn(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l="POP",s=null,c=m();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function m(){return(i.state||{idx:null}).idx}function h(){l="POP";let S=m(),D=S==null?null:S-c;c=S,s&&s({action:l,location:P.location,delta:D})}function w(S,D){l="PUSH";let C=lt(P.location,S,D);c=m()+1;let F=gr(C,c),Q=P.createHref(C);try{i.pushState(F,"",Q)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(Q)}o&&s&&s({action:l,location:P.location,delta:1})}function v(S,D){l="REPLACE";let C=lt(P.location,S,D);c=m();let F=gr(C,c),Q=P.createHref(C);i.replaceState(F,"",Q),o&&s&&s({action:l,location:P.location,delta:0})}function x(S){return Kr(S)}let P={get action(){return l},get location(){return e(a,i)},listen(S){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(vr,h),s=S,()=>{a.removeEventListener(vr,h),s=null}},createHref(S){return t(a,S)},createURL:x,encodeLocation(S){let D=x(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:v,go(S){return i.go(S)}};return P}function Kr(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),A(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Me(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var at,wr=class{constructor(e){if(Yn(this,at,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(jt(this,at).has(e))return jt(this,at).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){jt(this,at).set(e,t)}};at=new WeakMap;var Xn=new Set(["lazy","caseSensitive","path","id","index","children"]);function Qn(e){return Xn.has(e)}var Zn=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function ea(e){return Zn.has(e)}function ta(e){return e.index===!0}function ut(e,t,r=[],n={},a=!1){return e.map((o,i)=>{let l=[...r,String(i)],s=typeof o.id=="string"?o.id:l.join("-");if(A(o.index!==!0||!o.children,"Cannot specify children on an index route"),A(a||!n[s],`Found a route id collision on id "${s}".  Route id's must be globally unique within Data Router usages`),ta(o)){let c={...o,id:s};return n[s]=br(c,t(c)),c}else{let c={...o,id:s,children:void 0};return n[s]=br(c,t(c)),o.children&&(c.children=ut(o.children,t,l,n,a)),c}})}function br(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function $e(e,t,r="/"){return ot(e,t,r,!1)}function ot(e,t,r,n){let a=typeof t=="string"?Ue(t):t,o=Ce(a.pathname||"/",r);if(o==null)return null;let i=Yr(e);na(i);let l=null;for(let s=0;l==null&&s<i.length;++s){let c=ma(o);l=fa(i[s],c,n)}return l}function ra(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Yr(e,t=[],r=[],n="",a=!1){let o=(i,l,s=a,c)=>{let m={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&s)return;A(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let h=Le([n,m.relativePath]),w=r.concat(m);i.children&&i.children.length>0&&(A(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Yr(i.children,t,w,h,s)),!(i.path==null&&!i.index)&&t.push({path:h,score:ca(h,i.index),routesMeta:w})};return e.forEach((i,l)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))o(i,l);else for(let c of Jr(i.path))o(i,l,!0,c)}),t}function Jr(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=Jr(n.join("/")),l=[];return l.push(...i.map(s=>s===""?o:[o,s].join("/"))),a&&l.push(...i),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function na(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:da(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var aa=/^:[\w-]+$/,oa=3,ia=2,la=1,ua=10,sa=-2,Rr=e=>e==="*";function ca(e,t){let r=e.split("/"),n=r.length;return r.some(Rr)&&(n+=sa),t&&(n+=ia),r.filter(a=>!Rr(a)).reduce((a,o)=>a+(aa.test(o)?oa:o===""?la:ua),n)}function da(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function fa(e,t,r=!1){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let s=n[l],c=l===n.length-1,m=o==="/"?t:t.slice(o.length)||"/",h=Pt({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},m),w=s.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Pt({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},m)),!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:Le([o,h.pathname]),pathnameBase:va(Le([o,h.pathnameBase])),route:w}),h.pathnameBase!=="/"&&(o=Le([o,h.pathnameBase]))}return i}function Pt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ha(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,{paramName:m,isOptional:h},w)=>{if(m==="*"){let x=l[w]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[w];return h&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:e}}function ha(e,t=!1,r=!0){se(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,s)=>(n.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function ma(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return se(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ce(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function pa({basename:e,pathname:t}){return t==="/"?e:Le([e,t])}var qr=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=e=>qr.test(e);function ya(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ue(e):e,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=Er(r.substring(1),"/"):o=Er(r,t)):o=t,{pathname:o,search:ga(n),hash:wa(a)}}function Er(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ut(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gr(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Lt(e){let t=Gr(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Mt(e,t,r,n=!1){let a;typeof e=="string"?a=Ue(e):(a={...e},A(!a.pathname||!a.pathname.includes("?"),Ut("?","pathname","search",a)),A(!a.pathname||!a.pathname.includes("#"),Ut("#","pathname","hash",a)),A(!a.search||!a.search.includes("#"),Ut("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let w=i.split("/");for(;w[0]==="..";)w.shift(),h-=1;a.pathname=w.join("/")}l=h>=0?t[h]:"/"}let s=ya(a,l),c=i&&i!=="/"&&i.endsWith("/"),m=(o||i===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||m)&&(s.pathname+="/"),s}var Le=e=>e.join("/").replace(/\/\/+/g,"/"),va=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ga=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wa=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ct=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function st(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function dt(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qr(e,t){let r=e;if(typeof r!="string"||!qr.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(Xr)try{let o=new URL(window.location.href),i=r.startsWith("//")?new URL(o.protocol+r):new URL(r),l=Ce(i.pathname,t);i.origin===o.origin&&l!=null?r=l+i.search+i.hash:a=!0}catch{se(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}var je=Symbol("Uninstrumented");function ba(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(o){let i=Object.keys(r);for(let l of i)o[l]&&r[l].push(o[l])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=qe(r.lazy,t.lazy,()=>{});a&&(n.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(o=>{let i=a[o],l=r[`lazy.${o}`];if(typeof i=="function"&&l.length>0){let s=qe(l,i,()=>{});s&&(n.lazy=Object.assign(n.lazy||{},{[o]:s}))}})}return["loader","action"].forEach(a=>{let o=t[a];if(typeof o=="function"&&r[a].length>0){let i=o[je]??o,l=qe(r[a],i,(...s)=>xr(s[0]));l&&(a==="loader"&&i.hydrate===!0&&(l.hydrate=!0),l[je]=i,n[a]=l)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(a=>{let o=a[je]??a,i=qe(r.middleware,o,(...l)=>xr(l[0]));return i?(i[je]=o,i):a})),n}function Ra(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(a){let o=Object.keys(a);for(let i of o)a[i]&&r[i].push(a[i])}})),r.navigate.length>0){let n=e.navigate[je]??e.navigate,a=qe(r.navigate,n,(...o)=>{let[i,l]=o;return{to:typeof i=="number"||typeof i=="string"?i:i?Me(i):".",...Cr(e,l??{})}});a&&(a[je]=n,e.navigate=a)}if(r.fetch.length>0){let n=e.fetch[je]??e.fetch,a=qe(r.fetch,n,(...o)=>{let[i,,l,s]=o;return{href:l??".",fetcherKey:i,...Cr(e,s??{})}});a&&(a[je]=n,e.fetch=a)}return e}function qe(e,t,r){return e.length===0?null:async(...n)=>{let a=await Zr(e,r(...n),()=>t(...n),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function Zr(e,t,r,n){let a=e[n],o;if(a){let i,l=async()=>(i?console.error("You cannot call instrumented handlers more than once"):i=Zr(e,t,r,n-1),o=await i,A(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await a(l,t)}catch(s){console.error("An instrumentation function threw an error:",s)}i||await l(),await i}else try{o={type:"success",value:await r()}}catch(i){o={type:"error",value:i}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function xr(e){let{request:t,context:r,params:n,unstable_pattern:a}=e;return{request:Ea(t),params:{...n},unstable_pattern:a,context:xa(r)}}function Cr(e,t){return{currentUrl:Me(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Ea(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function xa(e){if(Sa(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Ca=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sa(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Ca}var en=["POST","PUT","PATCH","DELETE"],Pa=new Set(en),La=["GET",...en],Ma=new Set(La),tn=new Set([301,302,303,307,308]),Da=new Set([307,308]),Nt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Oa={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_a=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),rn="remix-router-transitions",nn=Symbol("ResetLoaderData");function Ta(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";A(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||_a,o=a;if(e.unstable_instrumentations){let u=e.unstable_instrumentations;o=d=>({...a(d),...ba(u.map(p=>p.route).filter(Boolean),d)})}let i={},l=ut(e.routes,o,void 0,i),s,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let m=e.dataStrategy||Ua,h={...e.future},w=null,v=new Set,x=null,P=null,S=null,D=e.hydrationData!=null,C=$e(l,e.history.location,c),F=!1,Q=null,V;if(C==null&&!e.patchRoutesOnNavigation){let u=xe(404,{pathname:e.history.location.pathname}),{matches:d,route:p}=bt(l);V=!0,C=d,Q={[p.id]:u}}else if(C&&!e.hydrationData&&pt(C,l,e.history.location.pathname).active&&(C=null),C)if(C.some(u=>u.route.lazy))V=!1;else if(!C.some(u=>Yt(u.route)))V=!0;else{let u=e.hydrationData?e.hydrationData.loaderData:null,d=e.hydrationData?e.hydrationData.errors:null;if(d){let p=C.findIndex(b=>d[b.route.id]!==void 0);V=C.slice(0,p+1).every(b=>!Bt(b.route,u,d))}else V=C.every(p=>!Bt(p.route,u,d))}else{V=!1,C=[];let u=pt(null,l,e.history.location.pathname);u.active&&u.matches&&(F=!0,C=u.matches)}let Z,g={historyAction:e.history.action,location:e.history.location,matches:C,initialized:V,navigation:Nt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},k="POP",I=null,J=!1,re,ue=!1,ve=new Map,ne=null,ce=!1,X=!1,W=new Set,q=new Map,fe=0,ie=-1,f=new Map,R=new Set,U=new Map,B=new Map,j=new Set,G=new Map,ae,ee=null;function oe(){if(w=e.history.listen(({action:u,location:d,delta:p})=>{if(ae){ae(),ae=void 0;return}se(G.size===0||p!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let b=cr({currentLocation:g.location,nextLocation:d,historyAction:u});if(b&&p!=null){let E=new Promise(O=>{ae=O});e.history.go(p*-1),mt(b,{state:"blocked",location:d,proceed(){mt(b,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),E.then(()=>e.history.go(p))},reset(){let O=new Map(g.blockers);O.set(b,tt),me({blockers:O})}}),I==null||I.resolve(),I=null;return}return ze(u,d)}),r){to(t,ve);let u=()=>ro(t,ve);t.addEventListener("pagehide",u),ne=()=>t.removeEventListener("pagehide",u)}return g.initialized||ze("POP",g.location,{initialHydration:!0}),Z}function we(){w&&w(),ne&&ne(),v.clear(),re&&re.abort(),g.fetchers.forEach((u,d)=>Tt(d)),g.blockers.forEach((u,d)=>sr(d))}function Cn(u){return v.add(u),()=>v.delete(u)}function me(u,d={}){u.matches&&(u.matches=u.matches.map(E=>{let O=i[E.route.id],$=E.route;return $.element!==O.element||$.errorElement!==O.errorElement||$.hydrateFallbackElement!==O.hydrateFallbackElement?{...E,route:O}:E})),g={...g,...u};let p=[],b=[];g.fetchers.forEach((E,O)=>{E.state==="idle"&&(j.has(O)?p.push(O):b.push(O))}),j.forEach(E=>{!g.fetchers.has(E)&&!q.has(E)&&p.push(E)}),[...v].forEach(E=>E(g,{deletedFetchers:p,newErrors:u.errors??null,viewTransitionOpts:d.viewTransitionOpts,flushSync:d.flushSync===!0})),p.forEach(E=>Tt(E)),b.forEach(E=>g.fetchers.delete(E))}function Ke(u,d,{flushSync:p}={}){var N,_;let b=g.actionData!=null&&g.navigation.formMethod!=null&&ye(g.navigation.formMethod)&&g.navigation.state==="loading"&&((N=u.state)==null?void 0:N._isRedirect)!==!0,E;d.actionData?Object.keys(d.actionData).length>0?E=d.actionData:E=null:b?E=g.actionData:E=null;let O=d.loaderData?$r(g.loaderData,d.loaderData,d.matches||[],d.errors):g.loaderData,$=g.blockers;$.size>0&&($=new Map($),$.forEach((z,K)=>$.set(K,tt)));let L=ce?!1:fr(u,d.matches||g.matches),M=J===!0||g.navigation.formMethod!=null&&ye(g.navigation.formMethod)&&((_=u.state)==null?void 0:_._isRedirect)!==!0;s&&(l=s,s=void 0),ce||k==="POP"||(k==="PUSH"?e.history.push(u,u.state):k==="REPLACE"&&e.history.replace(u,u.state));let T;if(k==="POP"){let z=ve.get(g.location.pathname);z&&z.has(u.pathname)?T={currentLocation:g.location,nextLocation:u}:ve.has(u.pathname)&&(T={currentLocation:u,nextLocation:g.location})}else if(ue){let z=ve.get(g.location.pathname);z?z.add(u.pathname):(z=new Set([u.pathname]),ve.set(g.location.pathname,z)),T={currentLocation:g.location,nextLocation:u}}me({...d,actionData:E,loaderData:O,historyAction:k,location:u,initialized:!0,navigation:Nt,revalidation:"idle",restoreScrollPosition:L,preventScrollReset:M,blockers:$},{viewTransitionOpts:T,flushSync:p===!0}),k="POP",J=!1,ue=!1,ce=!1,X=!1,I==null||I.resolve(),I=null,ee==null||ee.resolve(),ee=null}async function rr(u,d){if(I==null||I.resolve(),I=null,typeof u=="number"){I||(I=Nr());let K=I.promise;return e.history.go(u),K}let p=Ht(g.location,g.matches,c,u,d==null?void 0:d.fromRouteId,d==null?void 0:d.relative),{path:b,submission:E,error:O}=Sr(!1,p,d),$=g.location,L=lt(g.location,b,d&&d.state);L={...L,...e.history.encodeLocation(L)};let M=d&&d.replace!=null?d.replace:void 0,T="PUSH";M===!0?T="REPLACE":M===!1||E!=null&&ye(E.formMethod)&&E.formAction===g.location.pathname+g.location.search&&(T="REPLACE");let N=d&&"preventScrollReset"in d?d.preventScrollReset===!0:void 0,_=(d&&d.flushSync)===!0,z=cr({currentLocation:$,nextLocation:L,historyAction:T});if(z){mt(z,{state:"blocked",location:L,proceed(){mt(z,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),rr(u,d)},reset(){let K=new Map(g.blockers);K.set(z,tt),me({blockers:K})}});return}await ze(T,L,{submission:E,pendingError:O,preventScrollReset:N,replace:d&&d.replace,enableViewTransition:d&&d.viewTransition,flushSync:_,callSiteDefaultShouldRevalidate:d&&d.unstable_defaultShouldRevalidate})}function Sn(){ee||(ee=Nr()),_t(),me({revalidation:"loading"});let u=ee.promise;return g.navigation.state==="submitting"?u:g.navigation.state==="idle"?(ze(g.historyAction,g.location,{startUninterruptedRevalidation:!0}),u):(ze(k||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation,enableViewTransition:ue===!0}),u)}async function ze(u,d,p){re&&re.abort(),re=null,k=u,ce=(p&&p.startUninterruptedRevalidation)===!0,jn(g.location,g.matches),J=(p&&p.preventScrollReset)===!0,ue=(p&&p.enableViewTransition)===!0;let b=s||l,E=p&&p.overrideNavigation,O=p!=null&&p.initialHydration&&g.matches&&g.matches.length>0&&!F?g.matches:$e(b,d,c),$=(p&&p.flushSync)===!0;if(O&&g.initialized&&!X&&Va(g.location,d)&&!(p&&p.submission&&ye(p.submission.formMethod))){Ke(d,{matches:O},{flushSync:$});return}let L=pt(O,b,d.pathname);if(L.active&&L.matches&&(O=L.matches),!O){let{error:de,notFoundMatches:ge,route:te}=Ft(d.pathname);Ke(d,{matches:ge,loaderData:{},errors:{[te.id]:de}},{flushSync:$});return}re=new AbortController;let M=Je(e.history,d,re.signal,p&&p.submission),T=e.getContext?await e.getContext():new wr,N;if(p&&p.pendingError)N=[ke(O).route.id,{type:"error",error:p.pendingError}];else if(p&&p.submission&&ye(p.submission.formMethod)){let de=await Pn(M,d,p.submission,O,T,L.active,p&&p.initialHydration===!0,{replace:p.replace,flushSync:$});if(de.shortCircuited)return;if(de.pendingActionResult){let[ge,te]=de.pendingActionResult;if(be(te)&&st(te.error)&&te.error.status===404){re=null,Ke(d,{matches:de.matches,loaderData:{},errors:{[ge]:te.error}});return}}O=de.matches||O,N=de.pendingActionResult,E=zt(d,p.submission),$=!1,L.active=!1,M=Je(e.history,M.url,M.signal)}let{shortCircuited:_,matches:z,loaderData:K,errors:he}=await Ln(M,d,O,T,L.active,E,p&&p.submission,p&&p.fetcherSubmission,p&&p.replace,p&&p.initialHydration===!0,$,N,p&&p.callSiteDefaultShouldRevalidate);_||(re=null,Ke(d,{matches:z||O,...kr(N),loaderData:K,errors:he}))}async function Pn(u,d,p,b,E,O,$,L={}){_t();let M=Za(d,p);if(me({navigation:M},{flushSync:L.flushSync===!0}),O){let _=await yt(b,d.pathname,u.signal);if(_.type==="aborted")return{shortCircuited:!0};if(_.type==="error"){if(_.partialMatches.length===0){let{matches:K,route:he}=bt(l);return{matches:K,pendingActionResult:[he.id,{type:"error",error:_.error}]}}let z=ke(_.partialMatches).route.id;return{matches:_.partialMatches,pendingActionResult:[z,{type:"error",error:_.error}]}}else if(_.matches)b=_.matches;else{let{notFoundMatches:z,error:K,route:he}=Ft(d.pathname);return{matches:z,pendingActionResult:[he.id,{type:"error",error:K}]}}}let T,N=xt(b,d);if(!N.route.action&&!N.route.lazy)T={type:"error",error:xe(405,{method:u.method,pathname:d.pathname,routeId:N.route.id})};else{let _=Ge(o,i,u,b,N,$?[]:n,E),z=await Qe(u,_,E,null);if(T=z[N.route.id],!T){for(let K of b)if(z[K.route.id]){T=z[K.route.id];break}}if(u.signal.aborted)return{shortCircuited:!0}}if(We(T)){let _;return L&&L.replace!=null?_=L.replace:_=_r(T.response.headers.get("Location"),new URL(u.url),c,e.history)===g.location.pathname+g.location.search,await Ie(u,T,!0,{submission:p,replace:_}),{shortCircuited:!0}}if(be(T)){let _=ke(b,N.route.id);return(L&&L.replace)!==!0&&(k="PUSH"),{matches:b,pendingActionResult:[_.route.id,T,N.route.id]}}return{matches:b,pendingActionResult:[N.route.id,T]}}async function Ln(u,d,p,b,E,O,$,L,M,T,N,_,z){let K=O||zt(d,$),he=$||L||Ur(K),de=!ce&&!T;if(E){if(de){let pe=nr(_);me({navigation:K,...pe!==void 0?{actionData:pe}:{}},{flushSync:N})}let Y=await yt(p,d.pathname,u.signal);if(Y.type==="aborted")return{shortCircuited:!0};if(Y.type==="error"){if(Y.partialMatches.length===0){let{matches:Ye,route:Be}=bt(l);return{matches:Ye,loaderData:{},errors:{[Be.id]:Y.error}}}let pe=ke(Y.partialMatches).route.id;return{matches:Y.partialMatches,loaderData:{},errors:{[pe]:Y.error}}}else if(Y.matches)p=Y.matches;else{let{error:pe,notFoundMatches:Ye,route:Be}=Ft(d.pathname);return{matches:Ye,loaderData:{},errors:{[Be.id]:pe}}}}let ge=s||l,{dsMatches:te,revalidatingFetchers:Ee}=Pr(u,b,o,i,e.history,g,p,he,d,T?[]:n,T===!0,X,W,j,U,R,ge,c,e.patchRoutesOnNavigation!=null,_,z);if(ie=++fe,!e.dataStrategy&&!te.some(Y=>Y.shouldLoad)&&!te.some(Y=>Y.route.middleware&&Y.route.middleware.length>0)&&Ee.length===0){let Y=lr();return Ke(d,{matches:p,loaderData:{},errors:_&&be(_[1])?{[_[0]]:_[1].error}:null,...kr(_),...Y?{fetchers:new Map(g.fetchers)}:{}},{flushSync:N}),{shortCircuited:!0}}if(de){let Y={};if(!E){Y.navigation=K;let pe=nr(_);pe!==void 0&&(Y.actionData=pe)}Ee.length>0&&(Y.fetchers=Mn(Ee)),me(Y,{flushSync:N})}Ee.forEach(Y=>{_e(Y.key),Y.controller&&q.set(Y.key,Y.controller)});let Ae=()=>Ee.forEach(Y=>_e(Y.key));re&&re.signal.addEventListener("abort",Ae);let{loaderResults:Ze,fetcherResults:Fe}=await ar(te,Ee,u,b);if(u.signal.aborted)return{shortCircuited:!0};re&&re.signal.removeEventListener("abort",Ae),Ee.forEach(Y=>q.delete(Y.key));let Pe=Rt(Ze);if(Pe)return await Ie(u,Pe.result,!0,{replace:M}),{shortCircuited:!0};if(Pe=Rt(Fe),Pe)return R.add(Pe.key),await Ie(u,Pe.result,!0,{replace:M}),{shortCircuited:!0};let{loaderData:$t,errors:et}=Fr(g,p,Ze,_,Ee,Fe);T&&g.errors&&(et={...g.errors,...et});let He=lr(),vt=ur(ie),gt=He||vt||Ee.length>0;return{matches:p,loaderData:$t,errors:et,...gt?{fetchers:new Map(g.fetchers)}:{}}}function nr(u){if(u&&!be(u[1]))return{[u[0]]:u[1].data};if(g.actionData)return Object.keys(g.actionData).length===0?null:g.actionData}function Mn(u){return u.forEach(d=>{let p=g.fetchers.get(d.key),b=rt(void 0,p?p.data:void 0);g.fetchers.set(d.key,b)}),new Map(g.fetchers)}async function Dn(u,d,p,b){_e(u);let E=(b&&b.flushSync)===!0,O=s||l,$=Ht(g.location,g.matches,c,p,d,b==null?void 0:b.relative),L=$e(O,$,c),M=pt(L,O,$);if(M.active&&M.matches&&(L=M.matches),!L){Oe(u,d,xe(404,{pathname:$}),{flushSync:E});return}let{path:T,submission:N,error:_}=Sr(!0,$,b);if(_){Oe(u,d,_,{flushSync:E});return}let z=e.getContext?await e.getContext():new wr,K=(b&&b.preventScrollReset)===!0;if(N&&ye(N.formMethod)){await On(u,d,T,L,z,M.active,E,K,N,b&&b.unstable_defaultShouldRevalidate);return}U.set(u,{routeId:d,path:T}),await _n(u,d,T,L,z,M.active,E,K,N)}async function On(u,d,p,b,E,O,$,L,M,T){_t(),U.delete(u);let N=g.fetchers.get(u);De(u,eo(M,N),{flushSync:$});let _=new AbortController,z=Je(e.history,p,_.signal,M);if(O){let le=await yt(b,new URL(z.url).pathname,z.signal,u);if(le.type==="aborted")return;if(le.type==="error"){Oe(u,d,le.error,{flushSync:$});return}else if(le.matches)b=le.matches;else{Oe(u,d,xe(404,{pathname:p}),{flushSync:$});return}}let K=xt(b,p);if(!K.route.action&&!K.route.lazy){let le=xe(405,{method:M.formMethod,pathname:p,routeId:d});Oe(u,d,le,{flushSync:$});return}q.set(u,_);let he=fe,de=Ge(o,i,z,b,K,n,E),ge=await Qe(z,de,E,u),te=ge[K.route.id];if(!te){for(let le of de)if(ge[le.route.id]){te=ge[le.route.id];break}}if(z.signal.aborted){q.get(u)===_&&q.delete(u);return}if(j.has(u)){if(We(te)||be(te)){De(u,Te(void 0));return}}else{if(We(te))if(q.delete(u),ie>he){De(u,Te(void 0));return}else return R.add(u),De(u,rt(M)),Ie(z,te,!1,{fetcherSubmission:M,preventScrollReset:L});if(be(te)){Oe(u,d,te.error);return}}let Ee=g.navigation.location||g.location,Ae=Je(e.history,Ee,_.signal),Ze=s||l,Fe=g.navigation.state!=="idle"?$e(Ze,g.navigation.location,c):g.matches;A(Fe,"Didn't find any matches after fetcher action");let Pe=++fe;f.set(u,Pe);let $t=rt(M,te.data);g.fetchers.set(u,$t);let{dsMatches:et,revalidatingFetchers:He}=Pr(Ae,E,o,i,e.history,g,Fe,M,Ee,n,!1,X,W,j,U,R,Ze,c,e.patchRoutesOnNavigation!=null,[K.route.id,te],T);He.filter(le=>le.key!==u).forEach(le=>{let wt=le.key,mr=g.fetchers.get(wt),zn=rt(void 0,mr?mr.data:void 0);g.fetchers.set(wt,zn),_e(wt),le.controller&&q.set(wt,le.controller)}),me({fetchers:new Map(g.fetchers)});let vt=()=>He.forEach(le=>_e(le.key));_.signal.addEventListener("abort",vt);let{loaderResults:gt,fetcherResults:Y}=await ar(et,He,Ae,E);if(_.signal.aborted)return;if(_.signal.removeEventListener("abort",vt),f.delete(u),q.delete(u),He.forEach(le=>q.delete(le.key)),g.fetchers.has(u)){let le=Te(te.data);g.fetchers.set(u,le)}let pe=Rt(gt);if(pe)return Ie(Ae,pe.result,!1,{preventScrollReset:L});if(pe=Rt(Y),pe)return R.add(pe.key),Ie(Ae,pe.result,!1,{preventScrollReset:L});let{loaderData:Ye,errors:Be}=Fr(g,Fe,gt,void 0,He,Y);ur(Pe),g.navigation.state==="loading"&&Pe>ie?(A(k,"Expected pending action"),re&&re.abort(),Ke(g.navigation.location,{matches:Fe,loaderData:Ye,errors:Be,fetchers:new Map(g.fetchers)})):(me({errors:Be,loaderData:$r(g.loaderData,Ye,Fe,Be),fetchers:new Map(g.fetchers)}),X=!1)}async function _n(u,d,p,b,E,O,$,L,M){let T=g.fetchers.get(u);De(u,rt(M,T?T.data:void 0),{flushSync:$});let N=new AbortController,_=Je(e.history,p,N.signal);if(O){let te=await yt(b,new URL(_.url).pathname,_.signal,u);if(te.type==="aborted")return;if(te.type==="error"){Oe(u,d,te.error,{flushSync:$});return}else if(te.matches)b=te.matches;else{Oe(u,d,xe(404,{pathname:p}),{flushSync:$});return}}let z=xt(b,p);q.set(u,N);let K=fe,he=Ge(o,i,_,b,z,n,E),ge=(await Qe(_,he,E,u))[z.route.id];if(q.get(u)===N&&q.delete(u),!_.signal.aborted){if(j.has(u)){De(u,Te(void 0));return}if(We(ge))if(ie>K){De(u,Te(void 0));return}else{R.add(u),await Ie(_,ge,!1,{preventScrollReset:L});return}if(be(ge)){Oe(u,d,ge.error);return}De(u,Te(ge.data))}}async function Ie(u,d,p,{submission:b,fetcherSubmission:E,preventScrollReset:O,replace:$}={}){p||(I==null||I.resolve(),I=null),d.response.headers.has("X-Remix-Revalidate")&&(X=!0);let L=d.response.headers.get("Location");A(L,"Expected a Location header on the redirect Response"),L=_r(L,new URL(u.url),c,e.history);let M=lt(g.location,L,{_isRedirect:!0});if(r){let he=!1;if(d.response.headers.has("X-Remix-Reload-Document"))he=!0;else if(Kt(L)){const de=Kr(L,!0);he=de.origin!==t.location.origin||Ce(de.pathname,c)==null}if(he){$?t.location.replace(L):t.location.assign(L);return}}re=null;let T=$===!0||d.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:N,formAction:_,formEncType:z}=g.navigation;!b&&!E&&N&&_&&z&&(b=Ur(g.navigation));let K=b||E;if(Da.has(d.response.status)&&K&&ye(K.formMethod))await ze(T,M,{submission:{...K,formAction:L},preventScrollReset:O||J,enableViewTransition:p?ue:void 0});else{let he=zt(M,b);await ze(T,M,{overrideNavigation:he,fetcherSubmission:E,preventScrollReset:O||J,enableViewTransition:p?ue:void 0})}}async function Qe(u,d,p,b){var $;let E,O={};try{E=await za(m,u,d,b,p,!1)}catch(L){return d.filter(M=>M.shouldLoad).forEach(M=>{O[M.route.id]={type:"error",error:L}}),O}if(u.signal.aborted)return O;if(!ye(u.method))for(let L of d){if((($=E[L.route.id])==null?void 0:$.type)==="error")break;!E.hasOwnProperty(L.route.id)&&!g.loaderData.hasOwnProperty(L.route.id)&&(!g.errors||!g.errors.hasOwnProperty(L.route.id))&&L.shouldCallHandler()&&(E[L.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${L.route.id}`)})}for(let[L,M]of Object.entries(E))if(qa(M)){let T=M.result;O[L]={type:"redirect",response:Ba(T,u,L,d,c)}}else O[L]=await Ha(M);return O}async function ar(u,d,p,b){let E=Qe(p,u,b,null),O=Promise.all(d.map(async M=>{if(M.matches&&M.match&&M.request&&M.controller){let N=(await Qe(M.request,M.matches,b,M.key))[M.match.route.id];return{[M.key]:N}}else return Promise.resolve({[M.key]:{type:"error",error:xe(404,{pathname:M.path})}})})),$=await E,L=(await O).reduce((M,T)=>Object.assign(M,T),{});return{loaderResults:$,fetcherResults:L}}function _t(){X=!0,U.forEach((u,d)=>{q.has(d)&&W.add(d),_e(d)})}function De(u,d,p={}){g.fetchers.set(u,d),me({fetchers:new Map(g.fetchers)},{flushSync:(p&&p.flushSync)===!0})}function Oe(u,d,p,b={}){let E=ke(g.matches,d);Tt(u),me({errors:{[E.route.id]:p},fetchers:new Map(g.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function or(u){return B.set(u,(B.get(u)||0)+1),j.has(u)&&j.delete(u),g.fetchers.get(u)||Oa}function Tn(u,d){_e(u,d==null?void 0:d.reason),De(u,Te(null))}function Tt(u){let d=g.fetchers.get(u);q.has(u)&&!(d&&d.state==="loading"&&f.has(u))&&_e(u),U.delete(u),f.delete(u),R.delete(u),j.delete(u),W.delete(u),g.fetchers.delete(u)}function Fn(u){let d=(B.get(u)||0)-1;d<=0?(B.delete(u),j.add(u)):B.set(u,d),me({fetchers:new Map(g.fetchers)})}function _e(u,d){let p=q.get(u);p&&(p.abort(d),q.delete(u))}function ir(u){for(let d of u){let p=or(d),b=Te(p.data);g.fetchers.set(d,b)}}function lr(){let u=[],d=!1;for(let p of R){let b=g.fetchers.get(p);A(b,`Expected fetcher: ${p}`),b.state==="loading"&&(R.delete(p),u.push(p),d=!0)}return ir(u),d}function ur(u){let d=[];for(let[p,b]of f)if(b<u){let E=g.fetchers.get(p);A(E,`Expected fetcher: ${p}`),E.state==="loading"&&(_e(p),f.delete(p),d.push(p))}return ir(d),d.length>0}function $n(u,d){let p=g.blockers.get(u)||tt;return G.get(u)!==d&&G.set(u,d),p}function sr(u){g.blockers.delete(u),G.delete(u)}function mt(u,d){let p=g.blockers.get(u)||tt;A(p.state==="unblocked"&&d.state==="blocked"||p.state==="blocked"&&d.state==="blocked"||p.state==="blocked"&&d.state==="proceeding"||p.state==="blocked"&&d.state==="unblocked"||p.state==="proceeding"&&d.state==="unblocked",`Invalid blocker state transition: ${p.state} -> ${d.state}`);let b=new Map(g.blockers);b.set(u,d),me({blockers:b})}function cr({currentLocation:u,nextLocation:d,historyAction:p}){if(G.size===0)return;G.size>1&&se(!1,"A router only supports one blocker at a time");let b=Array.from(G.entries()),[E,O]=b[b.length-1],$=g.blockers.get(E);if(!($&&$.state==="proceeding")&&O({currentLocation:u,nextLocation:d,historyAction:p}))return E}function Ft(u){let d=xe(404,{pathname:u}),p=s||l,{matches:b,route:E}=bt(p);return{notFoundMatches:b,route:E,error:d}}function kn(u,d,p){if(x=u,S=d,P=p||null,!D&&g.navigation===Nt){D=!0;let b=fr(g.location,g.matches);b!=null&&me({restoreScrollPosition:b})}return()=>{x=null,S=null,P=null}}function dr(u,d){return P&&P(u,d.map(b=>ra(b,g.loaderData)))||u.key}function jn(u,d){if(x&&S){let p=dr(u,d);x[p]=S()}}function fr(u,d){if(x){let p=dr(u,d),b=x[p];if(typeof b=="number")return b}return null}function pt(u,d,p){if(e.patchRoutesOnNavigation)if(u){if(Object.keys(u[0].params).length>0)return{active:!0,matches:ot(d,p,c,!0)}}else return{active:!0,matches:ot(d,p,c,!0)||[]};return{active:!1,matches:null}}async function yt(u,d,p,b){if(!e.patchRoutesOnNavigation)return{type:"success",matches:u};let E=u;for(;;){let O=s==null,$=s||l,L=i;try{await e.patchRoutesOnNavigation({signal:p,path:d,matches:E,fetcherKey:b,patch:(N,_)=>{p.aborted||Lr(N,_,$,L,o,!1)}})}catch(N){return{type:"error",error:N,partialMatches:E}}finally{O&&!p.aborted&&(l=[...l])}if(p.aborted)return{type:"aborted"};let M=$e($,d,c),T=null;if(M){if(Object.keys(M[0].params).length===0)return{type:"success",matches:M};if(T=ot($,d,c,!0),!(T&&E.length<T.length&&hr(E,T.slice(0,E.length))))return{type:"success",matches:M}}if(T||(T=ot($,d,c,!0)),!T||hr(E,T))return{type:"success",matches:null};E=T}}function hr(u,d){return u.length===d.length&&u.every((p,b)=>p.route.id===d[b].route.id)}function Un(u){i={},s=ut(u,o,void 0,i)}function Nn(u,d,p=!1){let b=s==null;Lr(u,d,s||l,i,o,p),b&&(l=[...l],me({}))}return Z={get basename(){return c},get future(){return h},get state(){return g},get routes(){return l},get window(){return t},initialize:oe,subscribe:Cn,enableScrollRestoration:kn,navigate:rr,fetch:Dn,revalidate:Sn,createHref:u=>e.history.createHref(u),encodeLocation:u=>e.history.encodeLocation(u),getFetcher:or,resetFetcher:Tn,deleteFetcher:Fn,dispose:we,getBlocker:$n,deleteBlocker:sr,patchRoutes:Nn,_internalFetchControllers:q,_internalSetRoutes:Un,_internalSetStateDoNotUseOrYouWillBreakYourApp(u){me(u)}},e.unstable_instrumentations&&(Z=Ra(Z,e.unstable_instrumentations.map(u=>u.router).filter(Boolean))),Z}function Fa(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Ht(e,t,r,n,a,o){let i,l;if(a){i=[];for(let c of t)if(i.push(c),c.route.id===a){l=c;break}}else i=t,l=t[t.length-1];let s=Mt(n||".",Lt(i),Ce(e.pathname,r)||e.pathname,o==="path");if(n==null&&(s.search=e.search,s.hash=e.hash),(n==null||n===""||n===".")&&l){let c=qt(s.search);if(l.route.index&&!c)s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&c){let m=new URLSearchParams(s.search),h=m.getAll("index");m.delete("index"),h.filter(v=>v).forEach(v=>m.append("index",v));let w=m.toString();s.search=w?`?${w}`:""}}return r!=="/"&&(s.pathname=pa({basename:r,pathname:s.pathname})),Me(s)}function Sr(e,t,r){if(!r||!Fa(r))return{path:t};if(r.formMethod&&!Qa(r.formMethod))return{path:t,error:xe(405,{method:r.formMethod})};let n=()=>({path:t,error:xe(400,{type:"invalid-body"})}),o=(r.formMethod||"get").toUpperCase(),i=cn(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ye(o))return n();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,[v,x])=>`${w}${v}=${x}
`,""):String(r.body);return{path:t,submission:{formMethod:o,formAction:i,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ye(o))return n();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:i,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}A(typeof FormData=="function","FormData is not available in this environment");let l,s;if(r.formData)l=Vt(r.formData),s=r.formData;else if(r.body instanceof FormData)l=Vt(r.body),s=r.body;else if(r.body instanceof URLSearchParams)l=r.body,s=Tr(l);else if(r.body==null)l=new URLSearchParams,s=new FormData;else try{l=new URLSearchParams(r.body),s=Tr(l)}catch{return n()}let c={formMethod:o,formAction:i,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(ye(c.formMethod))return{path:t,submission:c};let m=Ue(t);return e&&m.search&&qt(m.search)&&l.append("index",""),m.search=`?${l}`,{path:Me(m),submission:c}}function Pr(e,t,r,n,a,o,i,l,s,c,m,h,w,v,x,P,S,D,C,F,Q){var ce;let V=F?be(F[1])?F[1].error:F[1].data:void 0,Z=a.createURL(o.location),g=a.createURL(s),k;if(m&&o.errors){let X=Object.keys(o.errors)[0];k=i.findIndex(W=>W.route.id===X)}else if(F&&be(F[1])){let X=F[0];k=i.findIndex(W=>W.route.id===X)-1}let I=F?F[1].statusCode:void 0,J=I&&I>=400,re={currentUrl:Z,currentParams:((ce=o.matches[0])==null?void 0:ce.params)||{},nextUrl:g,nextParams:i[0].params,...l,actionResult:V,actionStatus:I},ue=dt(i),ve=i.map((X,W)=>{let{route:q}=X,fe=null;if(k!=null&&W>k?fe=!1:q.lazy?fe=!0:Yt(q)?m?fe=Bt(q,o.loaderData,o.errors):$a(o.loaderData,o.matches[W],X)&&(fe=!0):fe=!1,fe!==null)return Wt(r,n,e,ue,X,c,t,fe);let ie=!1;typeof Q=="boolean"?ie=Q:J?ie=!1:(h||Z.pathname+Z.search===g.pathname+g.search||Z.search!==g.search||ka(o.matches[W],X))&&(ie=!0);let f={...re,defaultShouldRevalidate:ie},R=it(X,f);return Wt(r,n,e,ue,X,c,t,R,f,Q)}),ne=[];return x.forEach((X,W)=>{if(m||!i.some(j=>j.route.id===X.routeId)||v.has(W))return;let q=o.fetchers.get(W),fe=q&&q.state!=="idle"&&q.data===void 0,ie=$e(S,X.path,D);if(!ie){if(C&&fe)return;ne.push({key:W,routeId:X.routeId,path:X.path,matches:null,match:null,request:null,controller:null});return}if(P.has(W))return;let f=xt(ie,X.path),R=new AbortController,U=Je(a,X.path,R.signal),B=null;if(w.has(W))w.delete(W),B=Ge(r,n,U,ie,f,c,t);else if(fe)h&&(B=Ge(r,n,U,ie,f,c,t));else{let j;typeof Q=="boolean"?j=Q:J?j=!1:j=h;let G={...re,defaultShouldRevalidate:j};it(f,G)&&(B=Ge(r,n,U,ie,f,c,t,G))}B&&ne.push({key:W,routeId:X.routeId,path:X.path,matches:B,match:f,request:U,controller:R})}),{dsMatches:ve,revalidatingFetchers:ne}}function Yt(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Bt(e,t,r){if(e.lazy)return!0;if(!Yt(e))return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function $a(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function ka(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function it(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Lr(e,t,r,n,a,o){let i;if(e){let c=n[e];A(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),i=c.children}else i=r;let l=[],s=[];if(t.forEach(c=>{let m=i.find(h=>an(c,h));m?s.push({existingRoute:m,newRoute:c}):l.push(c)}),l.length>0){let c=ut(l,a,[e||"_","patch",String((i==null?void 0:i.length)||"0")],n);i.push(...c)}if(o&&s.length>0)for(let c=0;c<s.length;c++){let{existingRoute:m,newRoute:h}=s[c],w=m,[v]=ut([h],a,[],{},!0);Object.assign(w,{element:v.element?v.element:w.element,errorElement:v.errorElement?v.errorElement:w.errorElement,hydrateFallbackElement:v.hydrateFallbackElement?v.hydrateFallbackElement:w.hydrateFallbackElement})}}function an(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var a;return(a=t.children)==null?void 0:a.some(o=>an(r,o))}):!1}var Mr=new WeakMap,on=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(A(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[e];if(!o)return;let i=Mr.get(a);i||(i={},Mr.set(a,i));let l=i[e];if(l)return l;let s=(async()=>{let c=Qn(e),h=a[e]!==void 0&&e!=="hasErrorBoundary";if(c)se(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),i[e]=Promise.resolve();else if(h)se(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(a,{[e]:w}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(w=>w===void 0)&&(a.lazy=void 0))})();return i[e]=s,s},Dr=new WeakMap;function ja(e,t,r,n,a){let o=r[e.id];if(A(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let m=Dr.get(o);if(m)return{lazyRoutePromise:m,lazyHandlerPromise:m};let h=(async()=>{A(typeof e.lazy=="function","No lazy route function found");let w=await e.lazy(),v={};for(let x in w){let P=w[x];if(P===void 0)continue;let S=ea(x),C=o[x]!==void 0&&x!=="hasErrorBoundary";S?se(!S,"Route property "+x+" is not a supported property to be returned from a lazy route function. This property will be ignored."):C?se(!C,`Route "${o.id}" has a static property "${x}" defined but its lazy function is also returning a value for this property. The lazy route property "${x}" will be ignored.`):v[x]=P}Object.assign(o,v),Object.assign(o,{...n(o),lazy:void 0})})();return Dr.set(o,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let i=Object.keys(e.lazy),l=[],s;for(let m of i){if(a&&a.includes(m))continue;let h=on({key:m,route:e,manifest:r,mapRouteProperties:n});h&&(l.push(h),m===t&&(s=h))}let c=l.length>0?Promise.all(l).then(()=>{}):void 0;return c==null||c.catch(()=>{}),s==null||s.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:s}}async function Or(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,o)=>{r[t[o].route.id]=a}),r}async function Ua(e){return e.matches.some(t=>t.route.middleware)?ln(e,()=>Or(e)):Or(e)}function ln(e,t){return Na(e,t,n=>{if(Xa(n))throw n;return n},Ya,r);function r(n,a,o){if(o)return Promise.resolve(Object.assign(o.value,{[a]:{type:"error",result:n}}));{let{matches:i}=e,l=Math.min(Math.max(i.findIndex(c=>c.route.id===a),0),Math.max(i.findIndex(c=>c.shouldCallHandler()),0)),s=ke(i,i[l].route.id).route.id;return Promise.resolve({[s]:{type:"error",result:n}})}}}async function Na(e,t,r,n,a){let{matches:o,request:i,params:l,context:s,unstable_pattern:c}=e,m=o.flatMap(w=>w.route.middleware?w.route.middleware.map(v=>[w.route.id,v]):[]);return await un({request:i,params:l,context:s,unstable_pattern:c},m,t,r,n,a)}async function un(e,t,r,n,a,o,i=0){let{request:l}=e;if(l.signal.aborted)throw l.signal.reason??new Error(`Request aborted: ${l.method} ${l.url}`);let s=t[i];if(!s)return await r();let[c,m]=s,h,w=async()=>{if(h)throw new Error("You may only call `next()` once per middleware");try{return h={value:await un(e,t,r,n,a,o,i+1)},h.value}catch(v){return h={value:await o(v,c,h)},h.value}};try{let v=await m(e,w),x=v!=null?n(v):void 0;return a(x)?x:h?x??h.value:(h={value:await w()},h.value)}catch(v){return await o(v,c,h)}}function sn(e,t,r,n,a){let o=on({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),i=ja(n.route,ye(r.method)?"action":"loader",t,e,a);return{middleware:o,route:i.lazyRoutePromise,handler:i.lazyHandlerPromise}}function Wt(e,t,r,n,a,o,i,l,s=null,c){let m=!1,h=sn(e,t,r,a,o);return{...a,_lazyPromises:h,shouldLoad:l,shouldRevalidateArgs:s,shouldCallHandler(w){return m=!0,s?typeof c=="boolean"?it(a,{...s,defaultShouldRevalidate:c}):typeof w=="boolean"?it(a,{...s,defaultShouldRevalidate:w}):it(a,s):l},resolve(w){let{lazy:v,loader:x,middleware:P}=a.route,S=m||l||w&&!ye(r.method)&&(v||x),D=P&&P.length>0&&!x&&!v;return S&&(ye(r.method)||!D)?Ia({request:r,unstable_pattern:n,match:a,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:w,scopedContext:i}):Promise.resolve({type:"data",result:void 0})}}}function Ge(e,t,r,n,a,o,i,l=null){return n.map(s=>s.route.id!==a.route.id?{...s,shouldLoad:!1,shouldRevalidateArgs:l,shouldCallHandler:()=>!1,_lazyPromises:sn(e,t,r,s,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Wt(e,t,r,dt(n),s,o,i,!0,l))}async function za(e,t,r,n,a,o){r.some(c=>{var m;return(m=c._lazyPromises)==null?void 0:m.middleware})&&await Promise.all(r.map(c=>{var m;return(m=c._lazyPromises)==null?void 0:m.middleware}));let i={request:t,unstable_pattern:dt(r),params:r[0].params,context:a,matches:r},s=await e({...i,fetcherKey:n,runClientMiddleware:c=>{let m=i;return ln(m,()=>c({...m,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(c=>{var m,h;return[(m=c._lazyPromises)==null?void 0:m.handler,(h=c._lazyPromises)==null?void 0:h.route]}))}catch{}return s}async function Ia({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:o,scopedContext:i}){let l,s,c=ye(e.method),m=c?"action":"loader",h=w=>{let v,x=new Promise((D,C)=>v=C);s=()=>v(),e.signal.addEventListener("abort",s);let P=D=>typeof w!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${r.route.id}]`)):w({request:e,unstable_pattern:t,params:r.params,context:i},...D!==void 0?[D]:[]),S=(async()=>{try{return{type:"data",result:await(o?o(C=>P(C)):P())}}catch(D){return{type:"error",result:D}}})();return Promise.race([S,x])};try{let w=c?r.route.action:r.route.loader;if(n||a)if(w){let v,[x]=await Promise.all([h(w).catch(P=>{v=P}),n,a]);if(v!==void 0)throw v;l=x}else{await n;let v=c?r.route.action:r.route.loader;if(v)[l]=await Promise.all([h(v),a]);else if(m==="action"){let x=new URL(e.url),P=x.pathname+x.search;throw xe(405,{method:e.method,pathname:P,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(w)l=await h(w);else{let v=new URL(e.url),x=v.pathname+v.search;throw xe(404,{pathname:x})}}catch(w){return{type:"error",result:w}}finally{s&&e.signal.removeEventListener("abort",s)}return l}async function Aa(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Ha(e){var n,a,o,i,l;let{result:t,type:r}=e;if(Jt(t)){let s;try{s=await Aa(t)}catch(c){return{type:"error",error:c}}return r==="error"?{type:"error",error:new ct(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:"data",data:s,statusCode:t.status,headers:t.headers}}return r==="error"?jr(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}:{type:"error",error:Ka(t),statusCode:st(t)?t.status:void 0,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:st(t)?t.status:void 0}:jr(t)?{type:"data",data:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Ba(e,t,r,n,a){let o=e.headers.get("Location");if(A(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Kt(o)){let i=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=Ht(new URL(t.url),i,a,o),e.headers.set("Location",o)}return e}function _r(e,t,r,n){let a=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Kt(e)){let o=e,i=o.startsWith("//")?new URL(t.protocol+o):new URL(o);if(a.includes(i.protocol))throw new Error("Invalid redirect location");let l=Ce(i.pathname,r)!=null;if(i.origin===t.origin&&l)return i.pathname+i.search+i.hash}try{let o=n.createURL(e);if(a.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return e}function Je(e,t,r,n){let a=e.createURL(cn(t)).toString(),o={signal:r};if(n&&ye(n.formMethod)){let{formMethod:i,formEncType:l}=n;o.method=i.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(n.json)):l==="text/plain"?o.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?o.body=Vt(n.formData):o.body=n.formData}return new Request(a,o)}function Vt(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function Tr(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Wa(e,t,r,n=!1,a=!1){let o={},i=null,l,s=!1,c={},m=r&&be(r[1])?r[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let w=h.route.id,v=t[w];if(A(!We(v),"Cannot handle redirect results in processLoaderData"),be(v)){let x=v.error;if(m!==void 0&&(x=m,m=void 0),i=i||{},a)i[w]=x;else{let P=ke(e,w);i[P.route.id]==null&&(i[P.route.id]=x)}n||(o[w]=nn),s||(s=!0,l=st(v.error)?v.error.status:500),v.headers&&(c[w]=v.headers)}else o[w]=v.data,v.statusCode&&v.statusCode!==200&&!s&&(l=v.statusCode),v.headers&&(c[w]=v.headers)}),m!==void 0&&r&&(i={[r[0]]:m},r[2]&&(o[r[2]]=void 0)),{loaderData:o,errors:i,statusCode:l||200,loaderHeaders:c}}function Fr(e,t,r,n,a,o){let{loaderData:i,errors:l}=Wa(t,r,n);return a.filter(s=>!s.matches||s.matches.some(c=>c.shouldLoad)).forEach(s=>{let{key:c,match:m,controller:h}=s;if(h&&h.signal.aborted)return;let w=o[c];if(A(w,"Did not find corresponding fetcher result"),be(w)){let v=ke(e.matches,m==null?void 0:m.route.id);l&&l[v.route.id]||(l={...l,[v.route.id]:w.error}),e.fetchers.delete(c)}else if(We(w))A(!1,"Unhandled fetcher revalidation redirect");else{let v=Te(w.data);e.fetchers.set(c,v)}}),{loaderData:i,errors:l}}function $r(e,t,r,n){let a=Object.entries(t).filter(([,o])=>o!==nn).reduce((o,[i,l])=>(o[i]=l,o),{});for(let o of r){let i=o.route.id;if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&o.route.loader&&(a[i]=e[i]),n&&n.hasOwnProperty(i))break}return a}function kr(e){return e?be(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ke(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function bt(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function xe(e,{pathname:t,routeId:r,method:n,type:a,message:o}={}){let i="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(i="Bad Request",n&&t&&r?l=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(l="Unable to encode submission body")):e===403?(i="Forbidden",l=`Route "${r}" does not match URL "${t}"`):e===404?(i="Not Found",l=`No route matches URL "${t}"`):e===405&&(i="Method Not Allowed",n&&t&&r?l=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new ct(e||500,i,new Error(l),!0)}function Rt(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if(We(a))return{key:n,result:a}}}function cn(e){let t=typeof e=="string"?Ue(e):e;return Me({...t,hash:""})}function Va(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ka(e){var t,r;return new ct(((t=e.init)==null?void 0:t.status)??500,((r=e.init)==null?void 0:r.statusText)??"Internal Server Error",e.data)}function Ya(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&Ja(r))}function Ja(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function qa(e){return Jt(e.result)&&tn.has(e.result.status)}function be(e){return e.type==="error"}function We(e){return(e&&e.type)==="redirect"}function jr(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Jt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Ga(e){return tn.has(e)}function Xa(e){return Jt(e)&&Ga(e.status)&&e.headers.has("Location")}function Qa(e){return Ma.has(e.toUpperCase())}function ye(e){return Pa.has(e.toUpperCase())}function qt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function xt(e,t){let r=typeof t=="string"?Ue(t).search:t.search;if(e[e.length-1].route.index&&qt(r||""))return e[e.length-1];let n=Gr(e);return n[n.length-1]}function Ur(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:o,json:i}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(i!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:i,text:void 0}}}function zt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Za(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function rt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function eo(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Te(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function to(e,t){try{let r=e.sessionStorage.getItem(rn);if(r){let n=JSON.parse(r);for(let[a,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(a,new Set(o||[]))}}catch{}}function ro(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(rn,JSON.stringify(r))}catch(n){se(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function Nr(){let e,t,r=new Promise((n,a)=>{e=async o=>{n(o);try{await r}catch{}},t=async o=>{a(o);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Ve=y.createContext(null);Ve.displayName="DataRouter";var ft=y.createContext(null);ft.displayName="DataRouterState";var dn=y.createContext(!1);function no(){return y.useContext(dn)}var Gt=y.createContext({isTransitioning:!1});Gt.displayName="ViewTransition";var fn=y.createContext(new Map);fn.displayName="Fetchers";var ao=y.createContext(null);ao.displayName="Await";var Re=y.createContext(null);Re.displayName="Navigation";var Dt=y.createContext(null);Dt.displayName="Location";var Se=y.createContext({outlet:null,matches:[],isDataRoute:!1});Se.displayName="Route";var Xt=y.createContext(null);Xt.displayName="RouteError";var hn="REACT_ROUTER_ERROR",oo="REDIRECT",io="ROUTE_ERROR_RESPONSE";function lo(e){if(e.startsWith(`${hn}:${oo}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function uo(e){if(e.startsWith(`${hn}:${io}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ct(t.status,t.statusText,t.data)}catch{}}function so(e,{relative:t}={}){A(Xe(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(Re),{hash:a,pathname:o,search:i}=ht(e,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:Le([r,o])),n.createHref({pathname:l,search:i,hash:a})}function Xe(){return y.useContext(Dt)!=null}function Ne(){return A(Xe(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Dt).location}var mn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pn(e){y.useContext(Re).static||y.useLayoutEffect(e)}function yn(){let{isDataRoute:e}=y.useContext(Se);return e?So():co()}function co(){A(Xe(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Ve),{basename:t,navigator:r}=y.useContext(Re),{matches:n}=y.useContext(Se),{pathname:a}=Ne(),o=JSON.stringify(Lt(n)),i=y.useRef(!1);return pn(()=>{i.current=!0}),y.useCallback((s,c={})=>{if(se(i.current,mn),!i.current)return;if(typeof s=="number"){r.go(s);return}let m=Mt(s,JSON.parse(o),a,c.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Le([t,m.pathname])),(c.replace?r.replace:r.push)(m,c.state,c)},[t,r,o,a,e])}var fo=y.createContext(null);function ho(e){let t=y.useContext(Se).outlet;return y.useMemo(()=>t&&y.createElement(fo.Provider,{value:e},t),[t,e])}function pi(){let{matches:e}=y.useContext(Se),t=e[e.length-1];return t?t.params:{}}function ht(e,{relative:t}={}){let{matches:r}=y.useContext(Se),{pathname:n}=Ne(),a=JSON.stringify(Lt(r));return y.useMemo(()=>Mt(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function mo(e,t,r,n,a){A(Xe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=y.useContext(Re),{matches:i}=y.useContext(Se),l=i[i.length-1],s=l?l.params:{},c=l?l.pathname:"/",m=l?l.pathnameBase:"/",h=l&&l.route;{let C=h&&h.path||"";gn(c,!h||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let w=Ne(),v;v=w;let x=v.pathname||"/",P=x;if(m!=="/"){let C=m.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=$e(e,{pathname:P});return se(h||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),se(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),wo(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},s,C.params),pathname:Le([m,o.encodeLocation?o.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Le([m,o.encodeLocation?o.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),i,r,n,a)}function po(){let e=Co(),t=st(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,i)}var yo=y.createElement(po,null),vn=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=uo(e.digest);r&&(e=r)}let t=e!==void 0?y.createElement(Se.Provider,{value:this.props.routeContext},y.createElement(Xt.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?y.createElement(vo,{error:e},t):t}};vn.contextType=dn;var It=new WeakMap;function vo({children:e,error:t}){let{basename:r}=y.useContext(Re);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=lo(t.digest);if(n){let a=It.get(t);if(a)throw a;let o=Qr(n.location,r);if(Xr&&!It.get(t))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const i=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw It.set(t,i),i}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function go({routeContext:e,match:t,children:r}){let n=y.useContext(Ve);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Se.Provider,{value:e},r)}function wo(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,i=r==null?void 0:r.errors;if(i!=null){let m=o.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);A(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let l=!1,s=-1;if(r)for(let m=0;m<o.length;m++){let h=o[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(s=m),h.route.id){let{loaderData:w,errors:v}=r,x=h.route.loader&&!w.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,s>=0?o=o.slice(0,s+1):o=[o[0]];break}}}let c=r&&n?(m,h)=>{var w,v;n(m,{location:r.location,params:((v=(w=r.matches)==null?void 0:w[0])==null?void 0:v.params)??{},unstable_pattern:dt(r.matches),errorInfo:h})}:void 0;return o.reduceRight((m,h,w)=>{let v,x=!1,P=null,S=null;r&&(v=i&&h.route.id?i[h.route.id]:void 0,P=h.route.errorElement||yo,l&&(s<0&&w===0?(gn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,S=null):s===w&&(x=!0,S=h.route.hydrateFallbackElement||null)));let D=t.concat(o.slice(0,w+1)),C=()=>{let F;return v?F=P:x?F=S:h.route.Component?F=y.createElement(h.route.Component,null):h.route.element?F=h.route.element:F=m,y.createElement(go,{match:h,routeContext:{outlet:m,matches:D,isDataRoute:r!=null},children:F})};return r&&(h.route.ErrorBoundary||h.route.errorElement||w===0)?y.createElement(vn,{location:r.location,revalidation:r.revalidation,component:P,error:v,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:c}):C()},null)}function Qt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bo(e){let t=y.useContext(Ve);return A(t,Qt(e)),t}function Ro(e){let t=y.useContext(ft);return A(t,Qt(e)),t}function Eo(e){let t=y.useContext(Se);return A(t,Qt(e)),t}function Zt(e){let t=Eo(e),r=t.matches[t.matches.length-1];return A(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xo(){return Zt("useRouteId")}function Co(){var n;let e=y.useContext(Xt),t=Ro("useRouteError"),r=Zt("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function So(){let{router:e}=bo("useNavigate"),t=Zt("useNavigate"),r=y.useRef(!1);return pn(()=>{r.current=!0}),y.useCallback(async(a,o={})=>{se(r.current,mn),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))},[e,t])}var zr={};function gn(e,t,r){!t&&!zr[e]&&(zr[e]=!0,se(!1,r))}var Ir={};function Ar(e,t){!e&&!Ir[t]&&(Ir[t]=!0,console.warn(t))}var Po="useOptimistic",Hr=Vn[Po],Lo=()=>{};function Mo(e){return Hr?Hr(e):[e,Lo]}function Do(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&se(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:y.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&se(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:y.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&se(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:y.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Oo=["HydrateFallback","hydrateFallbackElement"],_o=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function yi({router:e,flushSync:t,onError:r,unstable_useTransitions:n}){n=no()||n;let[o,i]=y.useState(e.state),[l,s]=Mo(o),[c,m]=y.useState(),[h,w]=y.useState({isTransitioning:!1}),[v,x]=y.useState(),[P,S]=y.useState(),[D,C]=y.useState(),F=y.useRef(new Map),Q=y.useCallback((k,{deletedFetchers:I,newErrors:J,flushSync:re,viewTransitionOpts:ue})=>{J&&r&&Object.values(J).forEach(ne=>{var ce;return r(ne,{location:k.location,params:((ce=k.matches[0])==null?void 0:ce.params)??{},unstable_pattern:dt(k.matches)})}),k.fetchers.forEach((ne,ce)=>{ne.data!==void 0&&F.current.set(ce,ne.data)}),I.forEach(ne=>F.current.delete(ne)),Ar(re===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let ve=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Ar(ue==null||ve,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ue||!ve){t&&re?t(()=>i(k)):n===!1?i(k):y.startTransition(()=>{n===!0&&s(ne=>Br(ne,k)),i(k)});return}if(t&&re){t(()=>{P&&(v==null||v.resolve(),P.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})});let ne=e.window.document.startViewTransition(()=>{t(()=>i(k))});ne.finished.finally(()=>{t(()=>{x(void 0),S(void 0),m(void 0),w({isTransitioning:!1})})}),t(()=>S(ne));return}P?(v==null||v.resolve(),P.skipTransition(),C({state:k,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation})):(m(k),w({isTransitioning:!0,flushSync:!1,currentLocation:ue.currentLocation,nextLocation:ue.nextLocation}))},[e.window,t,P,v,n,s,r]);y.useLayoutEffect(()=>e.subscribe(Q),[e,Q]),y.useEffect(()=>{h.isTransitioning&&!h.flushSync&&x(new _o)},[h]),y.useEffect(()=>{if(v&&c&&e.window){let k=c,I=v.promise,J=e.window.document.startViewTransition(async()=>{n===!1?i(k):y.startTransition(()=>{n===!0&&s(re=>Br(re,k)),i(k)}),await I});J.finished.finally(()=>{x(void 0),S(void 0),m(void 0),w({isTransitioning:!1})}),S(J)}},[c,v,e.window,n,s]),y.useEffect(()=>{v&&c&&l.location.key===c.location.key&&v.resolve()},[v,P,l.location,c]),y.useEffect(()=>{!h.isTransitioning&&D&&(m(D.state),w({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}),C(void 0))},[h.isTransitioning,D]);let V=y.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:k=>e.navigate(k),push:(k,I,J)=>e.navigate(k,{state:I,preventScrollReset:J==null?void 0:J.preventScrollReset}),replace:(k,I,J)=>e.navigate(k,{replace:!0,state:I,preventScrollReset:J==null?void 0:J.preventScrollReset})}),[e]),Z=e.basename||"/",g=y.useMemo(()=>({router:e,navigator:V,static:!1,basename:Z,onError:r}),[e,V,Z,r]);return y.createElement(y.Fragment,null,y.createElement(Ve.Provider,{value:g},y.createElement(ft.Provider,{value:l},y.createElement(fn.Provider,{value:F.current},y.createElement(Gt.Provider,{value:h},y.createElement($o,{basename:Z,location:l.location,navigationType:l.historyAction,navigator:V,unstable_useTransitions:n},y.createElement(To,{routes:e.routes,future:e.future,state:l,onError:r})))))),null)}function Br(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var To=y.memo(Fo);function Fo({routes:e,future:t,state:r,onError:n}){return mo(e,void 0,r,n,t)}function vi({to:e,replace:t,state:r,relative:n}){A(Xe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(Re);se(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=y.useContext(Se),{pathname:i}=Ne(),l=yn(),s=Mt(e,Lt(o),i,n==="path"),c=JSON.stringify(s);return y.useEffect(()=>{l(JSON.parse(c),{replace:t,state:r,relative:n})},[l,c,n,t,r]),null}function gi(e){return ho(e.context)}function $o({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:o=!1,unstable_useTransitions:i}){A(!Xe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),s=y.useMemo(()=>({basename:l,navigator:a,static:o,unstable_useTransitions:i,future:{}}),[l,a,o,i]);typeof r=="string"&&(r=Ue(r));let{pathname:c="/",search:m="",hash:h="",state:w=null,key:v="default"}=r,x=y.useMemo(()=>{let P=Ce(c,l);return P==null?null:{location:{pathname:P,search:m,hash:h,state:w,key:v},navigationType:n}},[l,c,m,h,w,v,n]);return se(x!=null,`<Router basename="${l}"> is not able to match the URL "${c}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:y.createElement(Re.Provider,{value:s},y.createElement(Dt.Provider,{children:t,value:x}))}var Ct="get",St="application/x-www-form-urlencoded";function Ot(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ko(e){return Ot(e)&&e.tagName.toLowerCase()==="button"}function jo(e){return Ot(e)&&e.tagName.toLowerCase()==="form"}function Uo(e){return Ot(e)&&e.tagName.toLowerCase()==="input"}function No(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zo(e,t){return e.button===0&&(!t||t==="_self")&&!No(e)}var Et=null;function Io(){if(Et===null)try{new FormData(document.createElement("form"),0),Et=!1}catch{Et=!0}return Et}var Ao=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function At(e){return e!=null&&!Ao.has(e)?(se(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${St}"`),null):e}function Ho(e,t){let r,n,a,o,i;if(jo(e)){let l=e.getAttribute("action");n=l?Ce(l,t):null,r=e.getAttribute("method")||Ct,a=At(e.getAttribute("enctype"))||St,o=new FormData(e)}else if(ko(e)||Uo(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(n=s?Ce(s,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Ct,a=At(e.getAttribute("formenctype"))||At(l.getAttribute("enctype"))||St,o=new FormData(l,e),!Io()){let{name:c,type:m,value:h}=e;if(m==="image"){let w=c?`${c}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else c&&o.append(c,h)}}else{if(Ot(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ct,n=null,a=St,i=e}return o&&a==="text/plain"&&(i=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bo(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Ce(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Wo(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vo(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ko(e,t,r){let n=await Promise.all(e.map(async a=>{let o=t.routes[a.route.id];if(o){let i=await Wo(o,r);return i.links?i.links():[]}return[]}));return Go(n.flat(1).filter(Vo).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Wr(e,t,r,n,a,o){let i=(s,c)=>r[c]?s.route.id!==r[c].route.id:!0,l=(s,c)=>{var m;return r[c].pathname!==s.pathname||((m=r[c].route.path)==null?void 0:m.endsWith("*"))&&r[c].params["*"]!==s.params["*"]};return o==="assets"?t.filter((s,c)=>i(s,c)||l(s,c)):o==="data"?t.filter((s,c)=>{var h;let m=n.routes[s.route.id];if(!m||!m.hasLoader)return!1;if(i(s,c)||l(s,c))return!0;if(s.route.shouldRevalidate){let w=s.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Yo(e,t,{includeHydrateFallback:r}={}){return Jo(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Jo(e){return[...new Set(e)]}function qo(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Go(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let o=JSON.stringify(qo(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function wn(){let e=y.useContext(Ve);return er(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Xo(){let e=y.useContext(ft);return er(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tr=y.createContext(void 0);tr.displayName="FrameworkContext";function bn(){let e=y.useContext(tr);return er(e,"You must render this element inside a <HydratedRouter> element"),e}function Qo(e,t){let r=y.useContext(tr),[n,a]=y.useState(!1),[o,i]=y.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:c,onMouseLeave:m,onTouchStart:h}=t,w=y.useRef(null);y.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let P=D=>{D.forEach(C=>{i(C.isIntersecting)})},S=new IntersectionObserver(P,{threshold:.5});return w.current&&S.observe(w.current),()=>{S.disconnect()}}},[e]),y.useEffect(()=>{if(n){let P=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(P)}}},[n]);let v=()=>{a(!0)},x=()=>{a(!1),i(!1)};return r?e!=="intent"?[o,w,{}]:[o,w,{onFocus:nt(l,v),onBlur:nt(s,x),onMouseEnter:nt(c,v),onMouseLeave:nt(m,x),onTouchStart:nt(h,v)}]:[!1,w,{}]}function nt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Zo({page:e,...t}){let{router:r}=wn(),n=y.useMemo(()=>$e(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(ti,{page:e,matches:n,...t}):null}function ei(e){let{manifest:t,routeModules:r}=bn(),[n,a]=y.useState([]);return y.useEffect(()=>{let o=!1;return Ko(e,t,r).then(i=>{o||a(i)}),()=>{o=!0}},[e,t,r]),n}function ti({page:e,matches:t,...r}){let n=Ne(),{future:a,manifest:o,routeModules:i}=bn(),{basename:l}=wn(),{loaderData:s,matches:c}=Xo(),m=y.useMemo(()=>Wr(e,t,c,o,n,"data"),[e,t,c,o,n]),h=y.useMemo(()=>Wr(e,t,c,o,n,"assets"),[e,t,c,o,n]),w=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let P=new Set,S=!1;if(t.forEach(C=>{var Q;let F=o.routes[C.route.id];!F||!F.hasLoader||(!m.some(V=>V.route.id===C.route.id)&&C.route.id in s&&((Q=i[C.route.id])!=null&&Q.shouldRevalidate)||F.hasClientLoader?S=!0:P.add(C.route.id))}),P.size===0)return[];let D=Bo(e,l,a.unstable_trailingSlashAwareDataRequests,"data");return S&&P.size>0&&D.searchParams.set("_routes",t.filter(C=>P.has(C.route.id)).map(C=>C.route.id).join(",")),[D.pathname+D.search]},[l,a.unstable_trailingSlashAwareDataRequests,s,n,o,m,t,e,i]),v=y.useMemo(()=>Yo(h,o),[h,o]),x=ei(h);return y.createElement(y.Fragment,null,w.map(P=>y.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...r})),v.map(P=>y.createElement("link",{key:P,rel:"modulepreload",href:P,...r})),x.map(({key:P,link:S})=>y.createElement("link",{key:P,nonce:r.nonce,...S,crossOrigin:S.crossOrigin??r.crossOrigin})))}function ri(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var ni=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ni&&(window.__reactRouterVersion="7.13.0")}catch{}function wi(e,t){return Ta({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:Jn({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ai(),routes:e,mapRouteProperties:Do,hydrationRouteProperties:Oo,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function ai(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:oi(e.errors)}),e}function oi(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new ct(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let i=new o(a.message);i.stack="",r[n]=i}catch{}}if(r[n]==null){let o=new Error(a.message);o.stack="",r[n]=o}}else r[n]=a;return r}var Rn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:i,state:l,target:s,to:c,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:w,...v},x){let{basename:P,unstable_useTransitions:S}=y.useContext(Re),D=typeof c=="string"&&Rn.test(c),C=Qr(c,P);c=C.to;let F=so(c,{relative:a}),[Q,V,Z]=Qo(n,v),g=si(c,{replace:i,state:l,target:s,preventScrollReset:m,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:w,unstable_useTransitions:S});function k(J){t&&t(J),J.defaultPrevented||g(J)}let I=y.createElement("a",{...v,...Z,href:C.absoluteURL||F,onClick:C.isExternal||o?t:k,ref:ri(x,V),target:s,"data-discover":!D&&r==="render"?"true":void 0});return Q&&!D?y.createElement(y.Fragment,null,I,y.createElement(Zo,{page:F})):I});En.displayName="Link";var ii=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:i,viewTransition:l,children:s,...c},m){let h=ht(i,{relative:c.relative}),w=Ne(),v=y.useContext(ft),{navigator:x,basename:P}=y.useContext(Re),S=v!=null&&mi(h)&&l===!0,D=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,C=w.pathname,F=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(C=C.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&P&&(F=Ce(F,P)||F);const Q=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let V=C===D||!a&&C.startsWith(D)&&C.charAt(Q)==="/",Z=F!=null&&(F===D||!a&&F.startsWith(D)&&F.charAt(D.length)==="/"),g={isActive:V,isPending:Z,isTransitioning:S},k=V?t:void 0,I;typeof n=="function"?I=n(g):I=[n,V?"active":null,Z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(g):o;return y.createElement(En,{...c,"aria-current":k,className:I,ref:m,style:J,to:i,viewTransition:l},typeof s=="function"?s(g):s)});ii.displayName="NavLink";var li=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:o,method:i=Ct,action:l,onSubmit:s,relative:c,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:w,...v},x)=>{let{unstable_useTransitions:P}=y.useContext(Re),S=fi(),D=hi(l,{relative:c}),C=i.toLowerCase()==="get"?"get":"post",F=typeof l=="string"&&Rn.test(l),Q=V=>{if(s&&s(V),V.defaultPrevented)return;V.preventDefault();let Z=V.nativeEvent.submitter,g=(Z==null?void 0:Z.getAttribute("formmethod"))||i,k=()=>S(Z||V.currentTarget,{fetcherKey:t,method:g,navigate:r,replace:a,state:o,relative:c,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:w});P&&r!==!1?y.startTransition(()=>k()):k()};return y.createElement("form",{ref:x,method:C,action:D,onSubmit:n?s:Q,...v,"data-discover":!F&&e==="render"?"true":void 0})});li.displayName="Form";function ui(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xn(e){let t=y.useContext(Ve);return A(t,ui(e)),t}function si(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:l,unstable_useTransitions:s}={}){let c=yn(),m=Ne(),h=ht(e,{relative:o});return y.useCallback(w=>{if(zo(w,t)){w.preventDefault();let v=r!==void 0?r:Me(m)===Me(h),x=()=>c(e,{replace:v,state:n,preventScrollReset:a,relative:o,viewTransition:i,unstable_defaultShouldRevalidate:l});s?y.startTransition(()=>x()):x()}},[m,c,h,r,n,t,e,a,o,i,l,s])}var ci=0,di=()=>`__${String(++ci)}__`;function fi(){let{router:e}=xn("useSubmit"),{basename:t}=y.useContext(Re),r=xo(),n=e.fetch,a=e.navigate;return y.useCallback(async(o,i={})=>{let{action:l,method:s,encType:c,formData:m,body:h}=Ho(o,t);if(i.navigate===!1){let w=i.fetcherKey||di();await n(w,r,i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||s,formEncType:i.encType||c,flushSync:i.flushSync})}else await a(i.action||l,{unstable_defaultShouldRevalidate:i.unstable_defaultShouldRevalidate,preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||s,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,a,t,r])}function hi(e,{relative:t}={}){let{basename:r}=y.useContext(Re),n=y.useContext(Se);A(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...ht(e||".",{relative:t})},i=Ne();if(e==null){o.search=i.search;let l=new URLSearchParams(o.search),s=l.getAll("index");if(s.some(m=>m==="")){l.delete("index"),s.filter(h=>h).forEach(h=>l.append("index",h));let m=l.toString();o.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Le([r,o.pathname])),Me(o)}function mi(e,{relative:t}={}){let r=y.useContext(Gt);A(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=xn("useViewTransitionState"),a=ht(e,{relative:t});if(!r.isTransitioning)return!1;let o=Ce(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=Ce(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Pt(a.pathname,i)!=null||Pt(a.pathname,o)!=null}export{En as L,vi as N,gi as O,Wn as R,y as a,Vn as b,yn as c,wi as d,yi as e,pi as f,An as g,Bn as r,Ne as u};
